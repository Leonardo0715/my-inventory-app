# Firebase Firestore å®‰å…¨è§„åˆ™é…ç½®

## ğŸ”“ **å¼€å‘æ¨¡å¼ï¼ˆæµ‹è¯•ç”¨ï¼Œä¸å®‰å…¨ï¼‰**

æ‰“å¼€ Firebase Console â†’ Firestore Database â†’ å®‰å…¨è§„åˆ™ï¼Œç²˜è´´ä»¥ä¸‹è§„åˆ™ï¼š

```plaintext
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // å…è®¸æ‰€æœ‰äººè¯»å†™ï¼ˆä»…ç”¨äºå¼€å‘æµ‹è¯•ï¼‰
    match /{document=**} {
      allow read, write: if true;
    }
  }
}
```

âš ï¸ **è­¦å‘Šï¼š** è¿™ä¼šå¯¼è‡´ä»»ä½•äººéƒ½å¯ä»¥åˆ é™¤æ‚¨çš„æ•°æ®ï¼ä»…åœ¨å¼€å‘æµ‹è¯•æ—¶ä½¿ç”¨ã€‚

---

## ğŸ” **ç”Ÿäº§æ¨¡å¼ï¼ˆæ¯”è¾ƒå®‰å…¨ï¼‰**

ç”¨äºç”Ÿäº§ç¯å¢ƒçš„è§„åˆ™ï¼Œå…è®¸åŒ¿åç”¨æˆ·è¯»å†™ä»–ä»¬çš„åº”ç”¨æ•°æ®ï¼š

```plaintext
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // å…è®¸è®¤è¯ç”¨æˆ·æ“ä½œ inventory_apps é›†åˆ
    match /inventory_apps/{appId}/shared/{document} {
      allow read, write: if request.auth != null;
    }
  }
}
```

---

## âœ… **å®Œæ•´æ­¥éª¤**

### 1ï¸âƒ£ è®¿é—® Firebase Console

```
https://console.firebase.google.com/ 
â†’ é€‰æ‹©æ‚¨çš„é¡¹ç›®
â†’ ç‚¹å‡»å·¦ä¾§ "Firestore Database"
```

### 2ï¸âƒ£ è¿›å…¥å®‰å…¨è§„åˆ™

```
Firestore Database 
â†’ é¡¶éƒ¨æ ‡ç­¾æ æ‰¾åˆ° "Rules"
â†’ ç‚¹å‡» "Edit Rules"
```

### 3ï¸âƒ£ ç²˜è´´ä¸Šè¿°è§„åˆ™

æ ¹æ®æ‚¨çš„éœ€æ±‚é€‰æ‹©å¼€å‘æˆ–ç”Ÿäº§æ¨¡å¼è§„åˆ™

### 4ï¸âƒ£ ç‚¹å‡»å‘å¸ƒ

```
ç‚¹å‡» "Publish" æŒ‰é’®ç¡®è®¤å‘å¸ƒ
```

---

## ğŸ“‹ **æ£€æŸ¥æ¸…å•**

ä½¿ç”¨è¯¥åº”ç”¨å‰ï¼Œè¯·ç¡®è®¤ä»¥ä¸‹å‡ ç‚¹ï¼š

- [ ] å·²åˆ›å»º Firebase é¡¹ç›®
- [ ] å·²å¯ç”¨ Firestore Databaseï¼ˆåœ¨ Firebase Console ä¸­ï¼‰
- [ ] å·²å¯ç”¨ Authentication â†’ Anonymousï¼ˆåŒ¿åè®¤è¯ï¼‰
- [ ] å·²å¤åˆ¶ Firebase é…ç½®åˆ° `.env.local` æ–‡ä»¶
- [ ] å·²åœ¨ Firestore æ§åˆ¶å°è®¾ç½®å®‰å…¨è§„åˆ™
- [ ] å·²è¿è¡Œ `npm install` å®‰è£…ä¾èµ–
- [ ] å·²è¿è¡Œ `npm run dev` å¯åŠ¨å¼€å‘æœåŠ¡å™¨

---

## ğŸ› **å¸¸è§é—®é¢˜**

### Q: ä¸ºä»€ä¹ˆæ•°æ®æ— æ³•åŒæ­¥åˆ° Firestoreï¼Ÿ

**A:** æ£€æŸ¥ä»¥ä¸‹é¡¹ï¼š

1. **Firebase ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®é…ç½®ï¼Ÿ**
   - æ‰“å¼€æµè§ˆå™¨ F12 æ§åˆ¶å°ï¼ˆDevToolsï¼‰
   - åœ¨æ§åˆ¶å°ä¸­è¾“å…¥ï¼š`import.meta.env.VITE_FIREBASE_PROJECT_ID`
   - å¦‚æœè¿”å› `undefined` æˆ–ç©ºå­—ç¬¦ä¸²ï¼Œåˆ™è¯´æ˜ `.env.local` é…ç½®æœ‰è¯¯

2. **Firestore å®‰å…¨è§„åˆ™æ˜¯å¦å…è®¸è¯»å†™ï¼Ÿ**
   - æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰å¦‚ä¸‹é”™è¯¯ï¼š`Permission denied`
   - å¦‚æœæœ‰ï¼Œéœ€è¦æ›´æ–°å®‰å…¨è§„åˆ™ï¼ˆå‚è€ƒä¸Šé¢çš„è§„åˆ™æ–‡æœ¬ï¼‰

3. **Firestore æ•°æ®åº“æ˜¯å¦å­˜åœ¨ï¼Ÿ**
   - è®¿é—® Firebase Console â†’ Firestore Database
   - å¦‚æœçœ‹åˆ° "Create Database" æŒ‰é’®ï¼Œç‚¹å‡»åˆ›å»º

4. **æ˜¯å¦å¯ç”¨äº†åŒ¿åè®¤è¯ï¼Ÿ**
   - Firebase Console â†’ Authentication â†’ Sign-in method
   - ç¡®ä¿ "Anonymous" å·²å¯ç”¨

### Q: å¦‚ä½•æŸ¥çœ‹åŒæ­¥æ—¥å¿—ï¼Ÿ

**A:** æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰â†’ Console æ ‡ç­¾

åº”è¯¥èƒ½çœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼š
- âœ… äº‘ç«¯æ•°æ®è®¢é˜…æˆåŠŸ
- âœ… äº‘ç«¯æ•°æ®åŒæ­¥æˆåŠŸ
- âŒ é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚æœ‰ï¼‰

---

## ğŸ“± **å¤šäººå…±äº«éªŒè¯**

1. åœ¨æµè§ˆå™¨1ä¸­æ‰“å¼€åº”ç”¨ï¼šä¿®æ”¹åº“å­˜æ•°æ®
2. åœ¨æµè§ˆå™¨2ä¸­æ‰“å¼€åº”ç”¨ï¼šç­‰å¾… 1-2 ç§’
3. æŸ¥çœ‹æµè§ˆå™¨2ä¸­çš„æ•°æ®æ˜¯å¦è‡ªåŠ¨æ›´æ–°

å¦‚æœæ•°æ®å·²æ›´æ–°ï¼Œè¯´æ˜å¤šäººåŒæ­¥å·²æˆåŠŸï¼ğŸ‰
